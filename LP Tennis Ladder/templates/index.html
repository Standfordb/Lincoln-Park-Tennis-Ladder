{% extends "layout.html" %}


{% block header %}


{% if not 'USER' in session %}
    <div class="flex-inline">
        <form action="/" method="post" id="login-form">
                <label class="inline" for="username"><input class="input" id="username"name="username" type="text" placeholder="Username" autocomplete="off" autofocus required/></label>
                <label class="inline" for="password"><input class="input" id="password" name="password" type="password" placeholder="Password" required/></label>
                <button type="submit">Log in</button>
        </form>
        <a href="/register">Register</a>
    </div>
    {% else %}
    <div class="flex-inline">
        <p class="green-text" id="welcome">Welcome, <a href="/profile?id={{ session['USER'] }}" class="plain">{{ session['USERNAME'] }}!</a></p>
        <a href="/logout">Log out</a>
    </div>
{% endif %}

{% endblock %}


{% block main %}

    <div id="main-box">
        <h1 class="green-text centered" >LP Ladder Ranks:</h1>
        <div class="divider"></div>
        <table id="top25">
            <thead>
                <tr>
                    <th class="name-column green-text">Name:</th>
                    <th class="rank-column green-text">Rank:</th>
                </tr>
            </thead>
            <tbody>
                {% for players in players|sort(attribute='rank') %}
                    <tr>
                        <td class="name-column"><a href="/profile?id={{ players.id }}" style="text-decoration: none">{{ players.first }} {{ players.last }}</a></td>
                        <td class="rank-column">{{ players.rank }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>


{% endblock %}